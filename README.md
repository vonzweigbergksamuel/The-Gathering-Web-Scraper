# Assignment A2 - The Gathering Web Scraper

In this assignment, you got to help three friends, Peter, Paul, and Mary, plan their once-a-month gathering. Once a month, they gather to watch a movie and then dine at their favorite restaurant. It is quite difficult for the three friends to plan a gathering because they first have to find at least one day when everyone can find a movie and finally find a time when a table is free to book at the restaurant.

The friends have their calendars online on a website, and the cinema and restaurant they visit also have websites. The friends realize that the planning of an evening should be automated but do not know how to do it. They know that they do not need a GUI and want to run the application from a command prompt and that Peter prefers Windows, Paul prefers macOS, and Mary prefers Linux (#1).

Your task is to help the three friends by writing a web scraper that scrapes and analyzes data from the mentioned websites (explicitly built for this task). The application should be so generally written that it can handle two different start URLs, <https://courselab.lnu.se/scraper-site-1> and <https://courselab.lnu.se/scraper-site-2>. (#3)

The start URL must be passed as an argument when starting the application. The URLs are each leading to three other websites. It is irrelevant how these websites work under the hood. The interesting part is how the HTML is rendered and how to make HTTP requests to retrieve data. It does not matter which URL the application starts with because the websites are nearly the same, and only the data scraped differs, and thus the suggestions the application finally lists.

## The websites

From the start URL, the application must be able to crawl all three websites on its own. Data must be scraped and analyzed, and suggestions for the day, movie, and time to book a table must be listed. (#4)

Regardless of the start URL, the HTML of each website is nearly the same. The differences exist to ensure that your scraping code is as general as possible and that as little as possible has been hard-coded. The minor differences that exist are:

- href attribute values in HTML.
- Days when the three friends are available.
- Movie titles, when they start, and if there are any places left.
- The tables the friends can book and the redirect URL when logging in.

The varying `href` attribute values verify that your scraping code does not use hard-coded URLs. URLs defined in JavaScript, as in the AJAX and cinema example, will not change. You can, in other words, hard-code these.

### The start URL

The application must start by scraping the links on the web page given by the start URL and continue.

### The calendar

The web pages are built using simple HTML, and the task is to scrape the pages and analyze which days all three friends can gather. The friends have already decided to meet on Fridays, Saturdays, and Sundays, so there is no need to look for other days (#5).

### The cinema

The cinema website is a simple website that displays the cinema's shows for the weekend. You can find out what day and time a particular movie is shown and if it is sold out. By analyzing the traffic between the client and the server, you should find a way to request this information in your application and filter out suitable movies based on scraped data from the calendars.

#### Hint

Use the browser's inspector to analyze the traffic.

### The restaurant

The third website is for the three friends' favorite restaurant (the only one they visit). The application must log in using the credentials below to scrape what times they can book a table.

|username|zeke|
|--------|----|
|password|coys|

The website uses session cookies for authorization, which the application must handle. After a successful login, the scraper can find available times.

## The workflow to automate

1. Check which day, or days, all friends are available. If it is impossible to find a day when everyone can, this must be presented in the terminal window.
2. Scrape available movies for the possible days.
3. Log in to the restaurant's website to determine when the three friends can dine. Suppose they want to book a table at least two hours after the movie starts (#6).
4. By analyzing the scraped data, it remains to put together proposals containing the day, the movie with start time, and between which times to book a table.

### Optional

- Pre-book a table using the restaurant's form. (#8)

## Requirements

You must use the repository created for you and this assignment and make continuous commits, so it is possible to follow the web scraper's creation. Make sure that no more files than necessary are committed to the repository. (#9)

You must write the web scraper as a Node.js application (#1) and follow the course's coding standard (#10). You must split your source code into several modules (#12). Of course, you need to document and comment on the source code (#11).

After cloning the repository with the application's source code and running the `npm install` command, it must be easy to lint the source code and run the application. Therefore, add the script `start` and `lint` to the "scripts" field in the `package.json` file. (#14)

The user must pass the start URL as an argument (#2, #3). That is the only input the user should do during the scrape process (#2). Below is an example of how to start the scraper using <https://courselab.lnu.se/scraper-site-1> as the start URL:

```shell
npm start https://courselab.lnu.se/scraper-site-1
```

You can use whichever userland module you want (except if there is one with the complete solution). Do not forget to ensure, as far as possible, that the module is safe to use. (#13)

According to the details below, the web scraper must present the suggestions in a terminal window (#7).

## The output

### Using the first start URL

If <https://courselab.lnu.se/scraper-site-1> is used as the start URL, the list of suggestions must be exact:

```shell
Scraping links...OK
Scraping available days...OK
Scraping showtimes...OK
Scraping possible reservations...OK

Suggestions
===========
* On Friday, "Keep Your Seats, Please" begins at 16:00, and there is a free table to book between 18:00-20:00.
* On Friday, "A Day at the Races" begins at 16:00, and there is a free table to book between 18:00-20:00.
```

The result should not be more verbose than this. Be sure to delete all other statements printed to the terminal before submitting. The suggestions above are the correct ones for the first start URL, and you can use them to verify the output from your scraper.

### Using the second start URL

For the second URL, <https://courselab.lnu.se/scraper-site-2>, some of the data and URLs have changed. Your web scraper must be able to produce the correct suggestions for this start URL as well. The list of suggestions from the scraper must be exact:

```shell
Scraping links...OK
Scraping available days...OK
Scraping showtimes...OK
Scraping possible reservations...OK

Suggestions
===========
* On Saturday, "Keep Your Seats, Please" begins at 18:00, and there is a free table to book between 20:00-22:00.
* On Sunday, "Keep Your Seats, Please" begins at 18:00, and there is a free table to book between 20:00-22:00.
```

## Hints

Make sure to do the "Promising Web Scraper" exercise.


### Class Diagram (selfmade)

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="643px" viewBox="-0.5 -0.5 643 1051" style="max-width:100%;max-height:1051px;"><defs/><g><path d="M 322.39 153 L 322.23 220.63" fill="none" stroke="rgb(255, 255, 255)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 322.22 225.88 L 318.74 218.87 L 322.23 220.63 L 325.74 218.89 Z" fill="rgb(255, 255, 255)" stroke="rgb(255, 255, 255)" stroke-miterlimit="10" pointer-events="all"/><path d="M 225 101 L 225 60 L 420 60 L 420 101" fill="#f5f5f5" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 225 101 L 225 153 L 420 153 L 420 101" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 225 101 L 420 101" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 81px; margin-left: 323px;"><div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">app.js</div></div></div></foreignObject><text x="323" y="84" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">app.js</text></switch></g><rect x="225" y="101" width="195" height="26" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 185px; height: 1px; padding-top: 108px; margin-left: 231px;"><div data-drawio-colors="color: #666666; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 22px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(102, 102, 102); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">const baseUrl</div></div></div></foreignObject><text x="231" y="120" fill="#666666" font-family="Helvetica" font-size="12px">const baseUrl</text></switch></g><rect x="225" y="127" width="195" height="26" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 185px; height: 1px; padding-top: 134px; margin-left: 231px;"><div data-drawio-colors="color: #666666; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 22px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(102, 102, 102); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">[Application] application (baseUrl)</div></div></div></foreignObject><text x="231" y="146" fill="#666666" font-family="Helvetica" font-size="12px">[Application] application (base...</text></switch></g><path d="M 234 269 L 234 227 L 410 227 L 410 269" fill="#f5f5f5" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 234 269 L 234 416 L 410 416 L 410 269" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 234 269 L 410 269" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 248px; margin-left: 322px;"><div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">application.js</div></div></div></foreignObject><text x="322" y="252" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">application.js</text></switch></g><rect x="234" y="269" width="176" height="31" fill="none" stroke="#808080" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 166px; height: 1px; padding-top: 276px; margin-left: 240px;"><div data-drawio-colors="color: #666666; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 27px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(102, 102, 102); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">#baseUrl</div></div></div></foreignObject><text x="240" y="288" fill="#666666" font-family="Helvetica" font-size="12px">#baseUrl</text></switch></g><rect x="234" y="300" width="176" height="26" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 166px; height: 1px; padding-top: 307px; margin-left: 240px;"><div data-drawio-colors="color: #666666; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 22px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(102, 102, 102); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">+ run()</div></div></div></foreignObject><text x="240" y="319" fill="#666666" font-family="Helvetica" font-size="12px">+ run()</text></switch></g><rect x="234" y="326" width="176" height="30" fill="#ffffff" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 174px; height: 1px; padding-top: 341px; margin-left: 236px;"><div data-drawio-colors="color: #666666; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(102, 102, 102); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">#compileCalendarAvailability()</div></div></div></foreignObject><text x="236" y="345" fill="#666666" font-family="Helvetica" font-size="12px">#compileCalendarAvailability()</text></switch></g><rect x="234" y="356" width="176" height="30" fill="#ffffff" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 174px; height: 1px; padding-top: 371px; margin-left: 236px;"><div data-drawio-colors="color: #666666; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(102, 102, 102); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">#buyMovieTickets()</div></div></div></foreignObject><text x="236" y="375" fill="#666666" font-family="Helvetica" font-size="12px">#buyMovieTickets()</text></switch></g><rect x="234" y="386" width="176" height="30" fill="#ffffff" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 174px; height: 1px; padding-top: 401px; margin-left: 236px;"><div data-drawio-colors="color: #666666; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(102, 102, 102); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">#makeDinnerReservation()</div></div></div></foreignObject><text x="236" y="405" fill="#666666" font-family="Helvetica" font-size="12px">#makeDinnerReservation()</text></switch></g><path d="M 234.5 612 L 234.5 570 L 410.5 570 L 410.5 612" fill="#f5f5f5" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 234.5 612 L 234.5 728 L 410.5 728 L 410.5 612" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 234.5 612 L 410.5 612" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 591px; margin-left: 323px;"><div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">cinema-scraper.js</div></div></div></foreignObject><text x="323" y="595" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">cinema-scraper.js</text></switch></g><rect x="234.5" y="612" width="176" height="26" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 166px; height: 1px; padding-top: 619px; margin-left: 241px;"><div data-drawio-colors="color: #666666; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 22px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(102, 102, 102); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">+ displayCinemaInfo()</div></div></div></foreignObject><text x="241" y="631" fill="#666666" font-family="Helvetica" font-size="12px">+ displayCinemaInfo()</text></switch></g><rect x="234.5" y="638" width="176" height="30" fill="#ffffff" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 174px; height: 1px; padding-top: 653px; margin-left: 237px;"><div data-drawio-colors="color: #666666; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(102, 102, 102); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">#getCinemaInfo()</div></div></div></foreignObject><text x="237" y="657" fill="#666666" font-family="Helvetica" font-size="12px">#getCinemaInfo()</text></switch></g><rect x="234.5" y="668" width="176" height="30" fill="#ffffff" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 174px; height: 1px; padding-top: 683px; margin-left: 237px;"><div data-drawio-colors="color: #666666; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(102, 102, 102); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">#getOptionInfo()</div></div></div></foreignObject><text x="237" y="687" fill="#666666" font-family="Helvetica" font-size="12px">#getOptionInfo()</text></switch></g><rect x="234.5" y="698" width="176" height="30" fill="#ffffff" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 174px; height: 1px; padding-top: 713px; margin-left: 237px;"><div data-drawio-colors="color: #666666; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(102, 102, 102); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">#postRequest()</div></div></div></foreignObject><text x="237" y="717" fill="#666666" font-family="Helvetica" font-size="12px">#postRequest()</text></switch></g><path d="M 466 612 L 466 570 L 642 570 L 642 612" fill="#f5f5f5" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 466 612 L 466 698 L 642 698 L 642 612" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 466 612 L 642 612" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 591px; margin-left: 554px;"><div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">bar-scraper.js</div></div></div></foreignObject><text x="554" y="595" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">bar-scraper.js</text></switch></g><rect x="466" y="612" width="176" height="26" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 166px; height: 1px; padding-top: 619px; margin-left: 472px;"><div data-drawio-colors="color: #666666; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 22px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(102, 102, 102); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">+ displayBarInfo()</div></div></div></foreignObject><text x="472" y="631" fill="#666666" font-family="Helvetica" font-size="12px">+ displayBarInfo()</text></switch></g><rect x="466" y="638" width="176" height="30" fill="#ffffff" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 174px; height: 1px; padding-top: 653px; margin-left: 468px;"><div data-drawio-colors="color: #666666; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(102, 102, 102); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">#getBarInfo()</div></div></div></foreignObject><text x="468" y="657" fill="#666666" font-family="Helvetica" font-size="12px">#getBarInfo()</text></switch></g><rect x="466" y="668" width="176" height="30" fill="#ffffff" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 174px; height: 1px; padding-top: 683px; margin-left: 468px;"><div data-drawio-colors="color: #666666; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(102, 102, 102); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">#postLogin()</div></div></div></foreignObject><text x="468" y="687" fill="#666666" font-family="Helvetica" font-size="12px">#postLogin()</text></switch></g><path d="M 0 612 L 0 570 L 176 570 L 176 612" fill="#f5f5f5" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 0 612 L 0 668 L 176 668 L 176 612" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 0 612 L 176 612" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 591px; margin-left: 88px;"><div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">calendar-scraper.js</div></div></div></foreignObject><text x="88" y="595" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">calendar-scraper.js</text></switch></g><rect x="0" y="612" width="176" height="26" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 166px; height: 1px; padding-top: 619px; margin-left: 6px;"><div data-drawio-colors="color: #666666; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 22px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(102, 102, 102); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">+ displayCalendarInfo()</div></div></div></foreignObject><text x="6" y="631" fill="#666666" font-family="Helvetica" font-size="12px">+ displayCalendarInfo()</text></switch></g><rect x="0" y="638" width="176" height="30" fill="#ffffff" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 174px; height: 1px; padding-top: 653px; margin-left: 2px;"><div data-drawio-colors="color: #666666; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(102, 102, 102); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">#getCalendarInfo()</div></div></div></foreignObject><text x="2" y="657" fill="#666666" font-family="Helvetica" font-size="12px">#getCalendarInfo()</text></switch></g><path d="M 123 870 L 123 828 L 299 828 L 299 870" fill="#f5f5f5" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 123 870 L 123 1016 L 299 1016 L 299 870" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 123 870 L 299 870" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 849px; margin-left: 211px;"><div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">link-crawler.js</div></div></div></foreignObject><text x="211" y="853" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">link-crawler.js</text></switch></g><rect x="123" y="870" width="176" height="26" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 166px; height: 1px; padding-top: 877px; margin-left: 129px;"><div data-drawio-colors="color: #666666; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 22px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(102, 102, 102); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">+ crawl()</div></div></div></foreignObject><text x="129" y="889" fill="#666666" font-family="Helvetica" font-size="12px">+ crawl()</text></switch></g><rect x="123" y="896" width="176" height="30" fill="#ffffff" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 174px; height: 1px; padding-top: 911px; margin-left: 125px;"><div data-drawio-colors="color: #666666; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(102, 102, 102); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">#extractUrls()</div></div></div></foreignObject><text x="125" y="915" fill="#666666" font-family="Helvetica" font-size="12px">#extractUrls()</text></switch></g><rect x="123" y="926" width="176" height="30" fill="#ffffff" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 174px; height: 1px; padding-top: 941px; margin-left: 125px;"><div data-drawio-colors="color: #666666; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(102, 102, 102); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">#handleRelativeLinks()</div></div></div></foreignObject><text x="125" y="945" fill="#666666" font-family="Helvetica" font-size="12px">#handleRelativeLinks()</text></switch></g><rect x="123" y="956" width="176" height="30" fill="#ffffff" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 174px; height: 1px; padding-top: 971px; margin-left: 125px;"><div data-drawio-colors="color: #666666; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(102, 102, 102); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">#nomalizeLinks()</div></div></div></foreignObject><text x="125" y="975" fill="#666666" font-family="Helvetica" font-size="12px">#nomalizeLinks()</text></switch></g><rect x="123" y="986" width="176" height="30" fill="#ffffff" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 174px; height: 1px; padding-top: 1001px; margin-left: 125px;"><div data-drawio-colors="color: #666666; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(102, 102, 102); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">#sortLinks()</div></div></div></foreignObject><text x="125" y="1005" fill="#666666" font-family="Helvetica" font-size="12px">#sortLinks()</text></switch></g><path d="M 365 870 L 365 828 L 541 828 L 541 870" fill="#f5f5f5" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 365 870 L 365 926 L 541 926 L 541 870" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 365 870 L 541 870" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 849px; margin-left: 453px;"><div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">universal-scraper.js</div></div></div></foreignObject><text x="453" y="853" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">universal-scraper.js</text></switch></g><rect x="365" y="870" width="176" height="26" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 166px; height: 1px; padding-top: 877px; margin-left: 371px;"><div data-drawio-colors="color: #666666; " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 22px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(102, 102, 102); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">+ extractHtml()</div></div></div></foreignObject><text x="371" y="889" fill="#666666" font-family="Helvetica" font-size="12px">+ extractHtml()</text></switch></g><rect x="365" y="896" width="176" height="30" fill="#ffffff" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 174px; height: 1px; padding-top: 911px; margin-left: 367px;"><div data-drawio-colors="color: #666666; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(102, 102, 102); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">#getHtml()</div></div></div></foreignObject><text x="367" y="915" fill="#666666" font-family="Helvetica" font-size="12px">#getHtml()</text></switch></g><path d="M 322.04 416 L 322.48 563.63" fill="none" stroke="rgb(255, 255, 255)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 322.5 568.88 L 318.98 561.89 L 322.48 563.63 L 325.98 561.87 Z" fill="rgb(255, 255, 255)" stroke="rgb(255, 255, 255)" stroke-miterlimit="10" pointer-events="all"/><path d="M 322 416 L 548.69 566.48" fill="none" stroke="rgb(255, 255, 255)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 553.07 569.38 L 545.3 568.43 L 548.69 566.48 L 549.17 562.59 Z" fill="rgb(255, 255, 255)" stroke="rgb(255, 255, 255)" stroke-miterlimit="10" pointer-events="all"/><path d="M 322 416 L 93.32 566.5" fill="none" stroke="rgb(255, 255, 255)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 88.93 569.39 L 92.86 562.61 L 93.32 566.5 L 96.71 568.46 Z" fill="rgb(255, 255, 255)" stroke="rgb(255, 255, 255)" stroke-miterlimit="10" pointer-events="all"/><path d="M 211 1016 L 211 1040 L 453 1040 L 453 933.87" fill="none" stroke="rgb(255, 255, 255)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 453 927.12 L 457.5 936.12 L 453 933.87 L 448.5 936.12 Z" fill="rgb(255, 255, 255)" stroke="rgb(255, 255, 255)" stroke-miterlimit="10" pointer-events="all"/><path d="M 88 668 L 88 801 L 211 801 L 211 820.13" fill="none" stroke="rgb(255, 255, 255)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 211 826.88 L 206.5 817.88 L 211 820.13 L 215.5 817.88 Z" fill="rgb(255, 255, 255)" stroke="rgb(255, 255, 255)" stroke-miterlimit="10" pointer-events="all"/><path d="M 88 668 L 88 801 L 453 801 L 453 820.13" fill="none" stroke="rgb(255, 255, 255)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 453 826.88 L 448.5 817.88 L 453 820.13 L 457.5 817.88 Z" fill="rgb(255, 255, 255)" stroke="rgb(255, 255, 255)" stroke-miterlimit="10" pointer-events="all"/><path d="M 554 698 L 554 801 L 453 801 L 453 820.13" fill="none" stroke="rgb(255, 255, 255)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 453 826.88 L 448.5 817.88 L 453 820.13 L 457.5 817.88 Z" fill="rgb(255, 255, 255)" stroke="rgb(255, 255, 255)" stroke-miterlimit="10" pointer-events="all"/><path d="M 322.5 728 L 322.5 801 L 453 801 L 453 820.13" fill="none" stroke="rgb(255, 255, 255)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 453 826.88 L 448.5 817.88 L 453 820.13 L 457.5 817.88 Z" fill="rgb(255, 255, 255)" stroke="rgb(255, 255, 255)" stroke-miterlimit="10" pointer-events="all"/><rect x="170" y="0" width="303" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 301px; height: 1px; padding-top: 15px; margin-left: 171px;"><div data-drawio-colors="color: #FFFFFF; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 24px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">The Gathering Web Scraper</div></div></div></foreignObject><text x="322" y="22" fill="#FFFFFF" font-family="Helvetica" font-size="24px" text-anchor="middle">The Gathering Web Scraper</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>